{% extends 'KunstmaanMediaBundle:Default:layout.html.twig' %}

{% block subsidebar %}
    {% include 'KunstmaanMediaBundle:Folder:sidebar.html.twig' %}
{% endblock %}

{% block subbreadcrumb %}{%  set galstype = 'media.menu.'~gallery.type~'s' %}
    <li><a href="{{ path('KunstmaanMediaBundle_media_' ~ gallery.type ~ 's') }}">{{ galstype|trans|capitalize }}</a></li>
        {% for parent in gallery.parents %}
            <li><a href="{{ path('KunstmaanMediaBundle_folder_show', { 'id': parent.id, 'slug': parent.slug }) }}">{{ parent.name}}</a></li>
        {% endfor %}
	<li class="active">{{ gallery.name }}</li>
{% endblock %}

{% block content %}
    <div class="page-header">
    	{%  set gallerytype = 'media.'~gallery.type~'.'~gallery.type %}
        <h1>{{ gallerytype|trans }} {{ 'media.gallery.gallery' | trans }} <small>{{ gallery.name }}
        {% if gallery.parent %}
            | in <a href="{{ path('KunstmaanMediaBundle_folder_show', { 'id': gallery.parent.id, 'slug': gallery.parent.slug }) }}">{{ gallery.parent.name}}</a>
        {% endif %}
        </small></h1>
    </div>

    <div>
        {% include 'KunstmaanMediaBundle:Folder:addsub-modal.html.twig' %}
        {% include 'KunstmaanMediaBundle:Folder:delete-modal.html.twig' %}
        {% include 'KunstmaanMediaBundle:Folder:edit-modal.html.twig' %}

        <div class="actions">
        	{%  if gallery.type == "folder" %}
	        	<a href="{{ path('KunstmaanMediaBundle_folder_filecreate', { 'gallery_id' : gallery.id }) }}">add File</a>
	        	<a href="{{ path('KunstmaanMediaBundle_folder_imagecreate', { 'gallery_id' : gallery.id }) }}">add Image</a>
	        	<a href="{{ path('KunstmaanMediaBundle_folder_slidecreate', { 'gallery_id' : gallery.id }) }}">add Slide</a>
	        	<a href="{{ path('KunstmaanMediaBundle_folder_videocreate', { 'gallery_id' : gallery.id }) }}">add Video</a>
	        {% else %}	
        		{%  set addmediatype = 'media.'~gallery.type~'.add' %}
	        	<a href="{{ path('KunstmaanMediaBundle_folder_' ~ gallery.type ~ 'create', { 'gallery_id' : gallery.id }) }}" class="btn">{{ addmediatype |trans }}</a>
            {%  endif %} 
            <a href="{{ path('KunstmaanMediaBundle_folder_subcreate', { 'id' : gallery.id }) }}" data-controls-modal="addsub-modal" data-backdrop="true" data keyboard="true" class="btn">{{ 'media.gallery.sub.addshort' |trans }}</a>
            <a href="{{ path('KunstmaanMediaBundle_folder_edit', { 'gallery_id' : gallery.id }) }}" data-controls-modal="edit-modal" data-backdrop="true" data keyboard="true" class="btn">{{ 'media.gallery.edit' |trans }}</a>
             <a href="{{ path('KunstmaanMediaBundle_folder_delete', { 'gallery_id' : gallery.id }) }}" data-controls-modal="delete-modal" data-backdrop="true" data keyboard="true" class="btn danger">{{ 'media.gallery.delete' |trans }}</a>
        </div>
    </div>
    <div>
    	{%  set gallerytypelist = 'media.'~gallery.type~'.list' %}
        <h2>{{ gallerytypelist | trans({'%gallery%': gallery.name}) }}</h2>
       {% include 'KunstmaanMediaBundle:' ~ gallery.type|capitalize ~ ':tableview.html.twig' %}
    </div>

    <div>
        <h2>{{ 'media.gallery.sub.list' | trans({'%gallery%': gallery.name}) }}</h2>
       <ul>
       {% for child in gallery.children %}
           <li>{% include 'KunstmaanMediaBundle:Folder:showgallery.html.twig' %}</li>
       {% else %}
           <li>{{ 'media.gallery.sub.no' | trans }}</li>
       {% endfor %}
       </ul>
   </div>

   <div class="actions">
       	<a href="{{ path('KunstmaanMediaBundle_folder_subcreate', { 'id' : gallery.id }) }}" data-controls-modal="addsub-modal" data-backdrop="true" data keyboard="true" class="btn">{{ 'media.gallery.sub.addshort' |trans }}</a>
        <a href="{{ path('KunstmaanMediaBundle_folder_edit', { 'gallery_id' : gallery.id }) }}" data-controls-modal="edit-modal" data-backdrop="true" data keyboard="true" class="btn">{{ 'media.gallery.edit' |trans }}</a>
        <a href="{{ path('KunstmaanMediaBundle_folder_delete', { 'gallery_id' : gallery.id }) }}" data-controls-modal="delete-modal" data-backdrop="true" data keyboard="true" class="btn danger">{{ 'media.gallery.delete' |trans }}</a>
   </div>
{% endblock %}